/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { assessmentLineItemsCreate } from "../../funcs/assessmentLineItemsCreate.js";
import * as operations from "../../models/operations/index.js";
import { formatResult, ToolDefinition } from "../tools.js";

const args = {
  request: operations.CreateAssessmentLineItemRequest$inboundSchema,
};

export const tool$assessmentLineItemsCreate: ToolDefinition<typeof args> = {
  name: "assessment-line-items-create",
  description:
    `The REST create request message for the createAssessmentLineItem() API call.

To create an Assessment Line Item. The responding system must return the set of sourcedIds that have been allocated to the newly created assessmentLineItem record. A 'title' MUST be provided when creating an assessmentLineItem.`,
  args,
  tool: async (client, args, ctx) => {
    const [result, apiCall] = await assessmentLineItemsCreate(
      client,
      args.request,
      { fetchOptions: { signal: ctx.signal } },
    ).$inspect();

    if (!result.ok) {
      return {
        content: [{ type: "text", text: result.error.message }],
        isError: true,
      };
    }

    const value = result.value;

    return formatResult(value, apiCall);
  },
};
