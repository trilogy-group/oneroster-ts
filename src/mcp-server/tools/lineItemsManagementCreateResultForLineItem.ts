/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { lineItemsManagementCreateResultForLineItem } from "../../funcs/lineItemsManagementCreateResultForLineItem.js";
import * as operations from "../../models/operations/index.js";
import { formatResult, ToolDefinition } from "../tools.js";

const args = {
  request: operations.CreateResultForLineItemRequest$inboundSchema,
};

export const tool$lineItemsManagementCreateResultForLineItem: ToolDefinition<
  typeof args
> = {
  name: "line-items-management-create-result-for-line-item",
  description: `Create a Result for a Line Item

To create a new result for a specific Line Item. The responding system must return the set of sourcedIds that have been allocated to the newly created result records. If the corresponding record cannot be located, the api will return a 404 error code and message 'Line item not found.'`,
  args,
  tool: async (client, args, ctx) => {
    const [result, apiCall] = await lineItemsManagementCreateResultForLineItem(
      client,
      args.request,
      { fetchOptions: { signal: ctx.signal } },
    ).$inspect();

    if (!result.ok) {
      return {
        content: [{ type: "text", text: result.error.message }],
        isError: true,
      };
    }

    const value = result.value;

    return formatResult(value, apiCall);
  },
};
