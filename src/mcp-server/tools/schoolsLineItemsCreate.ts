/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { schoolsLineItemsCreate } from "../../funcs/schoolsLineItemsCreate.js";
import * as operations from "../../models/operations/index.js";
import { formatResult, ToolDefinition } from "../tools.js";

const args = {
  request: operations.CreateLineItemsForSchoolRequest$inboundSchema,
};

export const tool$schoolsLineItemsCreate: ToolDefinition<typeof args> = {
  name: "schools-line-items-create",
  description: `Create Line Items for a School

To create a set of lineItems for a specific school. The responding system must return the set of sourcedIds that have been allocated to the newly created lineItem records. If the corresponding record cannot be located, the api will return a 404 error code and message 'School not found.'`,
  args,
  tool: async (client, args, ctx) => {
    const [result, apiCall] = await schoolsLineItemsCreate(
      client,
      args.request,
      { fetchOptions: { signal: ctx.signal } },
    ).$inspect();

    if (!result.ok) {
      return {
        content: [{ type: "text", text: result.error.message }],
        isError: true,
      };
    }

    const value = result.value;

    return formatResult(value, apiCall);
  },
};
